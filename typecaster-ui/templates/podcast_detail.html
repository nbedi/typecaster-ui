{% extends "base.html" %}

{% block content %}

<h1>{{ action }} podcast</h1>

{% if action == 'Edit' %}
<form id="podcast" action="/podcasts/{{ podcast_id }}/" method="post">
{% endif %}
{% if action == 'Create' %}
<form id="podcast" action="/podcasts/new/" method="post">
{% endif %}
  <div>
    <label for="title">Title:</label>
    <input type="text" name="title" value="{{ podcast.title }}" />
  </div>
  <div>
    <label for="subtitle">Subtitle:</label>
    <input type="text" name="subtitle" value="{{ podcast.subtitle }}" />
  </div>
  <div>
    <label for="link">Link (URL):</label>
    <input type="text" name="link" value="{{ podcast.link }}" />
  </div>
  <div>
    <label for="author">Author:</label>
    <input type="text" name="author" value="{{ podcast.author }}" />
  </div>
  <div>
    <label for="description">Description:</label>
    <input type="text" name="description" value="{{ podcast.description }}" />
  </div>
  <div>
    <label for="language">Language:</label>
    <input type="text" name="language" value="{{ podcast.language }}" />
  </div>
  <div>
    <label for="owner_name">Owner name:</label>
    <input type="text" name="owner_name" value="{{ podcast.owner_name }}" />
  </div>
  <div>
    <label for="owner_email">Owner email:</label>
    <input type="text" name="owner_email" value="{{ podcast.owner_email }}" />
  </div>
  <div>
    <label for="copyright">Copyright:</label>
    <input type="text" name="copyright" value="{{ podcast.copyright }}" />
  </div>
  <button type="submit">Save</button>
</form>

{% if action == 'Edit' %}

<div class="podcast-episodes">
  <h3>Episodes</h3>
  {% if podcast.episodes|length > 0 %}
  <ul class="episodes">
    {% for key, episode in podcast.episodes.iteritems() %}
    <li>
      <a href="episodes/{{ key }}">{{ episode.title }}</a>
    </li>
    {% endfor %}
  </ul>
  {% else %}
  <p>No episodes in podcast</p>
  {% endif%}
    <div class="add"><a href="episodes/new">Add new episode</a></div>
</div>

{% endif %}

{% endblock %}
